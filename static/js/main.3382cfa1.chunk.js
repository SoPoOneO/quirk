(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(e,t,n){e.exports={tile:"Tile_tile__1uSkn"}},32:function(e,t,n){},40:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),i=n.n(c),o=n(14),s=n.n(o),l=(n(40),n(7)),u=n(13),d=function(){return Object(u.b)()},j=u.c,b=n(5),f=n(34),h=n(18),m=n(29),v=n.n(m),O=n(54),p=n(1);function g(){var e=[],t=0;for(var n in a)for(var c in r)for(var i=0;i<3;i++){t++;var o=a[n],s=r[c];e.push({color:o,shape:s,id:t})}return e}!function(e){e.Cross="\u271a",e.Square="\u25aa",e.Circle="\u25cf",e.Burst="\u2738",e.Clover="\u2724",e.Diamond="\u2726"}(r||(r={})),function(e){e.Red="red",e.Yellow="yellow",e.Green="green",e.Blue="#006eff",e.Purple="#9149ad",e.Orange="orange"}(a||(a={}));var x=function(e){var t=e.color,n=e.shape;return Object(p.jsx)("div",{className:v.a.tile,style:{color:t},children:n})};function y(e){var t=Object(O.a)((function(){return{type:"tile",item:e,collect:function(e){return{isDragging:!!e.isDragging()}}}})),n=Object(l.a)(t,2),r=n[0].isDragging,a=n[1];return Object(p.jsx)("div",{ref:a,style:{opacity:r?.2:1,cursor:"move",display:"inline-block"},children:Object(p.jsx)(x,Object(b.a)({},e))})}var B,w,k=x,P=n(56),S=n(31),C=n.n(S);!function(e){e.Normal="normal",e.Trade="trade"}(B||(B={})),function(e){e.Setup="setup",e.Ongoing="ongoing",e.Over="over"}(w||(w={}));var N=function(){return{placements:[],points:0,type:B.Normal}},G=function(){return e=12,t=12,Object(f.a)(Array(e)).map((function(e){return Array(t).fill(null)}));var e,t},E={players:[],moves:[],bag:g()};function _(e,t){e.forEach((function(e){D(e,t)}))}function D(e,t){for(C()(t);e.hand.length<6;){var n=t.pop();n&&e.hand.push(n)}}var M=function(e){return e.game.bag},T=function(e){var t=e.game.players,n=W(e);return t.map((function(r,a){var c=e.game.moves.filter((function(e,n){return n%t.length===a})),i=c.reduce((function(e,t){return e+t.points}),0),o=null!==n&&n.id===r.id;return Object(b.a)(Object(b.a)({},r),{},{moves:c,totalPoints:i,atBat:o})}))},A=function(e){return function(e){var t=G();return e.forEach((function(e){e.placements.forEach((function(e){t[e.position.row][e.position.col]=e.tile}))})),t}(e.game.moves)},R=function(e){return J(e.game.moves)},J=function(e){return 0===e.length?w.Setup:w.Ongoing},W=function(e){var t=e.game.moves,n=e.game.players;return q(t,n)},q=function(e,t){return J(e)!==w.Ongoing||0===e.length?null:t[(e.length-1)%t.length]},F=Object(h.b)({name:"game",initialState:E,reducers:{addPlacement:function(e,t){e.moves[e.moves.length-1].placements.push(t.payload);var n=q(e.moves,e.players);n&&(n.hand=null===n||void 0===n?void 0:n.hand.filter((function(e){return e.id!==t.payload.tile.id})))},finishMove:function(e){var t=q(e.moves,e.players),n=e.moves[e.moves.length-1];n.points=n.placements.length,t&&D(t,e.bag),e.moves.push(N())},addPlayer:function(e,t){var n;e.players.push((n=t.payload,e.bag,{name:n,hand:[],id:Object(P.a)()}))},removePlayer:function(e,t){e.players=e.players.filter((function(e){return e.id!==t.payload.id}))},startGame:function(e){_(e.players,e.bag),e.moves.push(N())},resetGame:function(e){e.moves=[],e.bag=g(),e.players.forEach((function(e){e.hand=[]})),_(e.players,e.bag)}}}),H=F.actions,I=H.addPlacement,V=H.finishMove,Y=H.addPlayer,$=H.removePlayer,z=H.startGame,K=H.resetGame,L=F.reducer,Q=n(32),U=n.n(Q),X=n(55);function Z(e){var t=e.tile,n=e.position,r=d(),a=Object(X.a)({accept:"tile",drop:function(e,t){r(I({tile:e,position:n}))},collect:function(e){return{isOver:!!e.isOver()}}}),c=Object(l.a)(a,2),i=(c[0].isOver,c[1]);return Object(p.jsx)("td",{ref:i,children:function(e){return e?Object(p.jsx)(k,Object(b.a)({},e)):""}(t)})}function ee(e){var t=e.grid;return Object(p.jsx)("div",{children:Object(p.jsx)("table",{className:U.a.table,children:Object(p.jsx)("tbody",{children:t.map((function(e,t){return Object(p.jsx)("tr",{children:e.map((function(e,n){return Object(p.jsx)(Z,{tile:e,position:{row:t,col:n}},n)}))},t)}))})})})}function te(e){var t=e.bag;return Object(p.jsx)("div",{children:t.map((function(e){return Object(p.jsx)(k,Object(b.a)({},e),e.id)}))})}var ne=n(8),re=n.n(ne);function ae(e){var t=e.players,n=e.gameStatus,r=d(),a=function(e){var t=Object(c.useState)(e),n=Object(l.a)(t,2),r=n[0],a=n[1];return{value:r,setValue:a,reset:function(){return a("")},bind:{value:r,onChange:function(e){a(e.target.value)}}}}(""),i=a.value,o=a.bind,s=a.reset;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{children:["Game Status: ",n," "]}),Object(p.jsx)("input",Object(b.a)({type:"text"},o)),Object(p.jsx)("button",{onClick:function(){""!==i&&(r(Y(i)),s())},children:"Add Player"}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){r(z())},children:"Start Game"}),"\xa0\xa0\xa0\xa0\xa0",Object(p.jsx)("button",{onClick:function(){r(K())},children:"Rest Game"}),"\xa0\xa0\xa0\xa0\xa0",Object(p.jsx)("button",{onClick:function(){r(V())},children:"Finish Move"})]}),Object(p.jsxs)("table",{className:re.a.table,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Player"}),t.map((function(e){return Object(p.jsxs)("td",{className:e.atBat?re.a.atBat:"",children:[Object(p.jsx)("p",{children:e.name}),Object(p.jsx)("button",{onClick:function(){return function(e){r($(e))}(e)},children:"Remove"})]},e.id)}))]})}),Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Moves"}),t.map((function(e){return Object(p.jsx)("td",{className:e.atBat?re.a.atBat:"",children:e.moves.map((function(e,t){return Object(p.jsx)("p",{children:e.points},t)}))},e.id)}))]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Total"}),t.map((function(e){return Object(p.jsx)("td",{className:e.atBat?re.a.atBat:"",children:e.totalPoints},e.id)}))]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Hand"}),t.map((function(e){return Object(p.jsx)("td",{className:e.atBat?re.a.atBat:"",children:e.hand.map((function(e){return Object(c.createElement)(y,Object(b.a)(Object(b.a)({},e),{},{key:e.id}))}))},e.id)}))]})]})]})]})}var ce=n(53),ie=n(33);var oe=function(){var e=j(A),t=j(M),n=j(T),r=j(R);return Object(p.jsxs)(ce.a,{backend:ie.a,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{style:{width:"50%",float:"left"},children:Object(p.jsx)(ee,{grid:e})}),Object(p.jsx)("div",{style:{width:"50%",float:"left"},children:Object(p.jsx)(ae,{players:n,gameStatus:r})})]}),Object(p.jsx)("div",{style:{clear:"both"},children:Object(p.jsx)(te,{bag:t})})]})},se=Object(h.a)({reducer:{game:L}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(u.a,{store:se,children:Object(p.jsx)(oe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports={atBat:"Player_atBat__11DT8"}}},[[47,1,2]]]);
//# sourceMappingURL=main.3382cfa1.chunk.js.map